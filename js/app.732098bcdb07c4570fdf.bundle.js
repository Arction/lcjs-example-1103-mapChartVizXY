(self.webpackChunk=self.webpackChunk||[]).push([[143],{138:(e,t,n)=>{const a=n(475),{lightningChart:o,AxisTickStrategies:i,ColorRGBA:r,PointShape:s,PalettedFill:l,LUT:d,UIElementBuilders:c,emptyFill:p,emptyLine:u,UIOrigins:g,MapTypes:h,transparentFill:x,regularColorSteps:m,Themes:y}=a;Date.prototype.formatDate=function(){return this.toISOString().split("T")[0]},Date.prototype.addDays=function(e){const t=new Date(this.valueOf());return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e).formatDate()};const b=document.getElementById("chart-container")||document.body,f=o(),k=document.createElement("div");b.append(k);const w=document.createElement("div");b.append(w);let S=!0;const v=document.createElement("div"),D=document.createElement("input"),E=document.createElement("span");v.appendChild(E),v.appendChild(D);let T=new Date("January 10, 2022").formatDate();const C=f.Map({type:h.World,container:k}).setTitle("").setPadding({top:30,bottom:0,right:0,left:0}),F=new l({lut:new d({steps:m(0,100,C.getTheme().examples.badGoodColorPalette,{alpha:150,formatLabels:e=>`${e.toFixed(0)} %`})})}),I=f.ChartXY({container:w}).setMouseInteractions(!1).setTitle("Loading example data ...").setBackgroundFillStyle(x).setSeriesBackgroundFillStyle(x).setSeriesBackgroundStrokeStyle(u);I.engine.setBackgroundFillStyle(x),I.getDefaultAxes().forEach((e=>e.setTickStrategy(i.Empty).setStrokeStyle(u))),C.onViewChange((e=>{const{latitudeRange:t,longitudeRange:n,margin:a}=e;I.getDefaultAxisX().setInterval({start:n.start,end:n.end}),I.getDefaultAxisY().setInterval({start:t.start,end:t.end}),I.setPadding(0)}));const P=I.addUIElement(c.TextBox).setOrigin(g.LeftTop).setPosition({x:0,y:100}).setMargin(10).setText("").setTextFont((e=>e.setSize(15))).setBackground((e=>e.setFillStyle(p).setStrokeStyle(u))),B=I.addPointSeries({pointShape:s.Circle}).setMouseInteractions(!1).setName("Vaccination coverage").setIndividualPointSizeEnabled(!0).setIndividualPointValueEnabled(!0).setPointFillStyle(F).setEffect(!1).setCursorResultTableFormatter(((e,t,n,a,o)=>e.addRow("").addRow(o.country).addRow("Vaccinated once:").addRow(`${o.value.toFixed(2)}% of population`))).setEffect(!1);function R(e,t){const n=new Date(2021,0,D.value);let a=n.formatDate();e.clear();let o=0;const i=t.samples.find((e=>e.date===a));i.values.forEach(((n,a)=>{o+=n,function(e,t,n){t.add({x:e.pos[1],y:e.pos[0],value:n,size:Math.max(3,n/2),country:e.name})}(t.countries[a],e,n)})),I.setTitle(n.toLocaleDateString("FIN")),P.setText(`Population who received at least one vaccine ${(o/i.values.length).toFixed(2)}%`),T>a&&S?(D.value++,setTimeout((()=>R(B,t)),1e3/24)):M()}function M(){S=!1,E.textContent="Stopped",E.style.background=L}fetch(document.head.baseURI+"examples/assets/1103/data.json").then((e=>e.json())).then((e=>{e.countries.forEach(((e,t)=>{B.add({x:e.pos[1],y:e.pos[0],value:0,size:0,country:e.name})})),I.addLegendBox().add(B),R(B,e),D.oninput=()=>{M(),R(B,e)},E.onclick=()=>{S?M():(S=!0,E.textContent="Started",E.style.background=z,D.value==D.max&&(D.value=0),R(B,e))}})).catch((e=>{console.log(e)})),k.style.width="100%",k.style.height="100%",k.style.position="absolute",k.style.left="0px",k.style.top="0px",C.engine.layout(),w.style.width="100%",w.style.height="100%",w.style.position="absolute",w.style.left="0px",w.style.top="0px",I.engine.layout(),v.id="block",D.type="range",D.min=0,D.max=Math.ceil((new Date("January 11, 2022")-new Date(2021,0,1))/864e5),D.value=D.min,D.id="slider",E.id="marker",E.textContent="Started";const z="rgb(0, 0, 200, 0.6)",L="rgb(200, 0, 0)";I.engine.container.append(v),function(e){const t=document.createElement("style");t.textContent='\n\n  * {\n    box-sizing: border-box;\n  }\n  \n  #block{\n    width: 50%;\n    height: 60px;\n\t\ttop: 90%;\n    right: 60px;\n    position: absolute;\n    display: flex;\n    justify-content: space-evenly;\n    padding: 30px 10px;\n    z-index: 1;\n    box-sizing: border-box\n  }\n\n  #slider{\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    width: 85%;\n    height: 5px;\n    position: relative;\n    cursor: pointer;\n    border-radius: 10px;\n    border: solid 1px; \n    background: linear-gradient(to right, #fff 0%, white 100%)\n  }\n  \n  #slider::-webkit-slider-thumb{\n    -webkit-appearance: none;\n    height: 20px;\n    width: 20px;\n    padding: 0;\n    background-color: lightgray;\n    cursor: pointer;\n    border-radius: 50%;\n    border: solid 1px gray\n  }\n\n  #marker {\n    background: rgb(0, 0, 200, 0.6);\n    color: white;\n    height: 30px;\n    width: 55px;\n    top: -13px;\n    position: relative;\n    border-radius: 4px;\n    text-align:center; \n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  }\n  #marker::after {\n    content: "";\n    text-align: center;\n    position: absolute;\n    left: 100%;\n    border-bottom: 5px solid transparent;\n    border-top: 5px solid transparent;\n    border-left: 5px solid gray;\n  }\n\n  #marker:active {\n    transform: scale(0.9);\n  }\n\n',document.head.append(t)}()}},e=>{e.O(0,[736],(()=>(138,e(e.s=138)))),e.O()}]);