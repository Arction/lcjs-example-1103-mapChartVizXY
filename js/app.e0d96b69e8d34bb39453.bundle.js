(self.webpackChunk=self.webpackChunk||[]).push([[524],{44:(e,t,n)=>{const a=n(377),{lightningChart:o,AxisTickStrategies:i,ColorRGBA:r,PointShape:s,PalettedFill:l,LUT:d,UIElementBuilders:c,emptyFill:p,emptyLine:u,UIOrigins:g,MapTypes:h,transparentFill:m,regularColorSteps:x,Themes:y}=a;Date.prototype.formatDate=function(){return this.toISOString().split("T")[0]},Date.prototype.addDays=function(e){const t=new Date(this.valueOf());return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e).formatDate()};const b=document.getElementById("chart-container")||document.body,f=o({resourcesBaseUrl:new URL(document.head.baseURI).origin+new URL(document.head.baseURI).pathname+"resources/"}),k=document.createElement("div");b.append(k);const w=document.createElement("div");b.append(w);let S=!0;const v=document.createElement("div"),T=document.createElement("input"),D=document.createElement("span");v.appendChild(D),v.appendChild(T);let F=new Date("January 10, 2022").formatDate();const C=f.Map({theme:y[new URLSearchParams(window.location.search).get("theme")||"darkGold"]||void 0,type:h.World,container:k}).setTitle("").setPadding({top:30,bottom:0,right:0,left:0}),E=new l({lut:new d({steps:x(0,100,C.getTheme().examples.badGoodColorPalette,{alpha:150,formatLabels:e=>`${e.toFixed(0)} %`})})}),U=f.ChartXY({container:w}).setUserInteractions(void 0).setTitle("Loading example data ...").setBackgroundFillStyle(m).setSeriesBackgroundFillStyle(m).setSeriesBackgroundStrokeStyle(u).setCursor((e=>e.setTickMarkerXVisible(!1).setTickMarkerYVisible(!1)));U.engine.setBackgroundFillStyle(m),U.getDefaultAxes().forEach((e=>e.setTickStrategy(i.Empty).setStrokeStyle(u))),C.addEventListener("viewchange",(e=>{const{latitudeRange:t,longitudeRange:n,margin:a}=e;U.getDefaultAxisX().setInterval({start:n.start,end:n.end}),U.getDefaultAxisY().setInterval({start:t.start,end:t.end}),U.setPadding(0)}));const L=U.addUIElement(c.TextBox).setOrigin(g.LeftTop).setPosition({x:0,y:100}).setMargin(10).setText("").setTextFont((e=>e.setSize(15))).setBackground((e=>e.setFillStyle(p).setStrokeStyle(u))),I=U.addPointLineAreaSeries({dataPattern:null,sizes:!0,lookupValues:!0,ids:!0}).setStrokeStyle(u).setPointerEvents(!1).setName("Vaccination coverage").setPointFillStyle(E).setEffect(!1);function R(e,t){const n=new Date(2021,0,T.value);let a=n.formatDate();e.clear();let o=0;const i=t.samples.find((e=>e.date===a));i.values.forEach(((n,a)=>{o+=n,function(e,t,n,a){t.appendSample({x:e.pos[1],y:e.pos[0],lookupValue:n,size:Math.max(3,n/2),id:a})}(t.countries[a],e,n,a)})),U.setCursorFormatting(((e,n)=>{const a=t.countries[n.id];return[[{component:n.series,rowFillStyle:U.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[a],["Vaccinated once:"],[`${n.lookupValue.toFixed(2)}% of population`]]})),U.setTitle(n.toLocaleDateString("FIN")),L.setText(`Population who received at least one vaccine ${(o/i.values.length).toFixed(2)}%`),F>a&&S?(T.value++,setTimeout((()=>R(I,t)),1e3/24)):B()}function B(){S=!1,D.textContent="Stopped",D.style.background=M}fetch(new URL(document.head.baseURI).origin+new URL(document.head.baseURI).pathname+"examples/assets/1103/data.json").then((e=>e.json())).then((e=>{U.addLegendBox().add(I),R(I,e),T.oninput=()=>{B(),R(I,e)},D.onclick=()=>{S?B():(S=!0,D.textContent="Started",D.style.background=P,T.value==T.max&&(T.value=0),R(I,e))}})).catch((e=>{console.log(e)})),k.style.width="100%",k.style.height="100%",k.style.position="absolute",k.style.left="0px",k.style.top="0px",C.engine.layout(),w.style.width="100%",w.style.height="100%",w.style.position="absolute",w.style.left="0px",w.style.top="0px",U.engine.layout(),v.id="block",T.type="range",T.min=0,T.max=Math.ceil((new Date("January 11, 2022")-new Date(2021,0,1))/864e5),T.value=T.min,T.id="slider",D.id="marker",D.textContent="Started";const P="rgb(0, 0, 200, 0.6)",M="rgb(200, 0, 0)";U.engine.container.append(v),function(){const e=document.createElement("style");e.textContent='\n\n  * {\n    box-sizing: border-box;\n  }\n  \n  #block{\n    width: 50%;\n    height: 60px;\n\t\ttop: 90%;\n    right: 60px;\n    position: absolute;\n    display: flex;\n    justify-content: space-evenly;\n    padding: 30px 10px;\n    z-index: 1;\n    box-sizing: border-box\n  }\n\n  #slider{\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    width: 85%;\n    height: 5px;\n    position: relative;\n    cursor: pointer;\n    border-radius: 10px;\n    border: solid 1px; \n    background: linear-gradient(to right, #fff 0%, white 100%)\n  }\n  \n  #slider::-webkit-slider-thumb{\n    -webkit-appearance: none;\n    height: 20px;\n    width: 20px;\n    padding: 0;\n    background-color: lightgray;\n    cursor: pointer;\n    border-radius: 50%;\n    border: solid 1px gray\n  }\n\n  #marker {\n    background: rgb(0, 0, 200, 0.6);\n    color: white;\n    height: 30px;\n    width: 55px;\n    top: -13px;\n    position: relative;\n    border-radius: 4px;\n    text-align:center; \n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  }\n  #marker::after {\n    content: "";\n    text-align: center;\n    position: absolute;\n    left: 100%;\n    border-bottom: 5px solid transparent;\n    border-top: 5px solid transparent;\n    border-left: 5px solid gray;\n  }\n\n  #marker:active {\n    transform: scale(0.9);\n  }\n\n',document.head.append(e)}()}},e=>{e.O(0,[502],(()=>e(e.s=44))),e.O()}]);