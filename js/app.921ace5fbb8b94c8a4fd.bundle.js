(self.webpackChunk=self.webpackChunk||[]).push([[143],{138:(e,t,n)=>{const a=n(809),{lightningChart:o,AxisTickStrategies:i,ColorRGBA:l,PointShape:r,PalettedFill:s,LUT:d,UIElementBuilders:c,emptyFill:p,emptyLine:u,UIOrigins:g,MapTypes:h,transparentFill:x,Themes:m}=a;Date.prototype.formatDate=function(){return this.toISOString().split("T")[0]},Date.prototype.addDays=function(e){const t=new Date(this.valueOf());return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e).formatDate()};const y=document.getElementById("chart-container")||document.body,b=document.createElement("div");y.append(b);const f=document.createElement("div");y.append(f);let v=!0;const k=document.createElement("div"),w=document.createElement("input"),S=document.createElement("span");k.appendChild(S),k.appendChild(w);const D=new s({lut:new d({steps:[{value:0,color:l(255,0,0,0),label:"0%"},{value:1,color:l(255,0,0),label:"0%"},{value:20,color:l(150,0,0),label:"20%"},{value:40,color:l(50,0,0,80),label:"40%"},{value:60,color:l(0,0,200,45),label:"60%"},{value:80,color:l(0,200,0,50),label:"80%"},{value:100,color:l(0,255,0,40),label:"100%"}],color:l(255,255,255)})});let T=new Date("January 10, 2022").formatDate();const E=o().Map({type:h.World,container:b}).setTitle("").setPadding({top:30,bottom:0,right:0,left:0}),C=o().ChartXY({container:f}).setMouseInteractions(!1).setTitle("Loading example data ...").setBackgroundFillStyle(x).setSeriesBackgroundFillStyle(x);C.engine.setBackgroundFillStyle(x),C.getDefaultAxes().forEach((e=>e.setTickStrategy(i.Empty).setStrokeStyle(u))),E.onViewChange((e=>{const{latitudeRange:t,longitudeRange:n,margin:a}=e;C.getDefaultAxisX().setInterval(n.start,n.end,!1,!0),C.getDefaultAxisY().setInterval(t.start,t.end,!1,!0),C.setPadding(0)}));const F=C.addLegendBox(),I=C.addUIElement(c.TextBox).setOrigin(g.LeftTop).setPosition({x:0,y:100}).setMargin(10).setText("").setTextFont((e=>e.setSize(15))).setBackground((e=>e.setFillStyle(p).setStrokeStyle(u))),P=C.addPointSeries({pointShape:r.Circle}).setMouseInteractions(!1).setName("Vaccination coverage").setIndividualPointSizeEnabled(!0).setIndividualPointValueEnabled(!0).setPointFillStyle(D).setCursorResultTableFormatter(((e,t,n,a,o)=>e.addRow("").addRow(o.country).addRow("Vaccinated once:").addRow(`${o.value.toFixed(2)}% of population`)));function B(e,t){const n=new Date(2021,0,w.value);let a=n.formatDate();e.clear();let o=0;const i=t.samples.find((e=>e.date===a));i.values.forEach(((n,a)=>{o+=n,function(e,t,n){t.add({x:e.pos[1],y:e.pos[0],value:n,size:n,country:e.name})}(t.countries[a],e,n)})),C.setTitle(n.toLocaleDateString("FIN")),I.setText(`Population who received at least one vaccine ${(o/i.values.length).toFixed(2)}%`),T>a&&v?(w.value++,setTimeout((()=>B(P,t)),1e3/24)):R()}function R(){v=!1,S.textContent="Stopped",S.style.background=M}fetch(document.head.baseURI+"examples/assets/1103/data.json").then((e=>e.json())).then((e=>{e.countries.forEach(((e,t)=>{P.add({x:e.pos[1],y:e.pos[0],value:0,size:0,country:e.name})})),F.add(P),B(P,e),w.oninput=()=>{R(),B(P,e)},S.onclick=()=>{v?R():(v=!0,S.textContent="Started",S.style.background=z,w.value==w.max&&(w.value=0),B(P,e))}})).catch((e=>{console.log(e)})),b.style.width="100%",b.style.height="100%",b.style.position="absolute",b.style.left="0px",b.style.top="0px",E.engine.layout(),f.style.width="100%",f.style.height="100%",f.style.position="absolute",f.style.left="0px",f.style.top="0px",C.engine.layout(),k.id="block",w.type="range",w.min=0,w.max=Math.ceil((new Date("January 11, 2022")-new Date(2021,0,1))/864e5),w.value=w.min,w.id="slider",S.id="marker",S.textContent="Started";const z="rgb(0, 0, 200, 0.6)",M="rgb(200, 0, 0)";C.engine.container.append(k),function(e){const t=document.createElement("style");t.textContent='\n\n  * {\n    box-sizing: border-box;\n  }\n  \n  #block{\n    width: 50%;\n    height: 60px;\n\t\ttop: 90%;\n    right: 60px;\n    position: absolute;\n    display: flex;\n    justify-content: space-evenly;\n    padding: 30px 10px;\n    z-index: 1;\n    box-sizing: border-box\n  }\n\n  #slider{\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    width: 85%;\n    height: 5px;\n    position: relative;\n    cursor: pointer;\n    border-radius: 10px;\n    border: solid 1px; \n    background: linear-gradient(to right, #fff 0%, white 100%)\n  }\n  \n  #slider::-webkit-slider-thumb{\n    -webkit-appearance: none;\n    height: 20px;\n    width: 20px;\n    padding: 0;\n    background-color: lightgray;\n    cursor: pointer;\n    border-radius: 50%;\n    border: solid 1px gray\n  }\n\n  #marker {\n    background: rgb(0, 0, 200, 0.6);\n    color: white;\n    height: 30px;\n    width: 55px;\n    top: -13px;\n    position: relative;\n    border-radius: 4px;\n    text-align:center; \n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  }\n  #marker::after {\n    content: "";\n    text-align: center;\n    position: absolute;\n    left: 100%;\n    border-bottom: 5px solid transparent;\n    border-top: 5px solid transparent;\n    border-left: 5px solid gray;\n  }\n\n  #marker:active {\n    transform: scale(0.9);\n  }\n\n',document.head.append(t)}()}},e=>{e.O(0,[736],(()=>(138,e(e.s=138)))),e.O()}]);