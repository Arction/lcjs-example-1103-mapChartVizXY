(self.webpackChunk=self.webpackChunk||[]).push([[143],{138:(e,t,n)=>{const a=n(475),{lightningChart:o,AxisTickStrategies:i,ColorRGBA:r,PointShape:s,PalettedFill:l,LUT:d,UIElementBuilders:c,emptyFill:p,emptyLine:u,UIOrigins:g,MapTypes:h,transparentFill:x,regularColorSteps:m,Themes:y}=a;Date.prototype.formatDate=function(){return this.toISOString().split("T")[0]},Date.prototype.addDays=function(e){const t=new Date(this.valueOf());return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e).formatDate()};const b=document.getElementById("chart-container")||document.body,f=document.createElement("div");b.append(f);const k=document.createElement("div");b.append(k);let w=!0;const S=document.createElement("div"),v=document.createElement("input"),D=document.createElement("span");S.appendChild(D),S.appendChild(v);let E=new Date("January 10, 2022").formatDate();const T=o().Map({type:h.World,container:f}).setTitle("").setPadding({top:30,bottom:0,right:0,left:0}),C=new l({lut:new d({steps:m(0,100,T.getTheme().examples.badGoodColorPalette,{alpha:150,formatLabels:e=>`${e.toFixed(0)} %`})})}),F=o().ChartXY({container:k}).setMouseInteractions(!1).setTitle("Loading example data ...").setBackgroundFillStyle(x).setSeriesBackgroundFillStyle(x).setSeriesBackgroundStrokeStyle(u);F.engine.setBackgroundFillStyle(x),F.getDefaultAxes().forEach((e=>e.setTickStrategy(i.Empty).setStrokeStyle(u))),T.onViewChange((e=>{const{latitudeRange:t,longitudeRange:n,margin:a}=e;F.getDefaultAxisX().setInterval({start:n.start,end:n.end}),F.getDefaultAxisY().setInterval({start:t.start,end:t.end}),F.setPadding(0)}));const I=F.addUIElement(c.TextBox).setOrigin(g.LeftTop).setPosition({x:0,y:100}).setMargin(10).setText("").setTextFont((e=>e.setSize(15))).setBackground((e=>e.setFillStyle(p).setStrokeStyle(u))),P=F.addPointSeries({pointShape:s.Circle}).setMouseInteractions(!1).setName("Vaccination coverage").setIndividualPointSizeEnabled(!0).setIndividualPointValueEnabled(!0).setPointFillStyle(C).setEffect(!1).setCursorResultTableFormatter(((e,t,n,a,o)=>e.addRow("").addRow(o.country).addRow("Vaccinated once:").addRow(`${o.value.toFixed(2)}% of population`))).setEffect(!1);function B(e,t){const n=new Date(2021,0,v.value);let a=n.formatDate();e.clear();let o=0;const i=t.samples.find((e=>e.date===a));i.values.forEach(((n,a)=>{o+=n,function(e,t,n){t.add({x:e.pos[1],y:e.pos[0],value:n,size:Math.max(3,n/2),country:e.name})}(t.countries[a],e,n)})),F.setTitle(n.toLocaleDateString("FIN")),I.setText(`Population who received at least one vaccine ${(o/i.values.length).toFixed(2)}%`),E>a&&w?(v.value++,setTimeout((()=>B(P,t)),1e3/24)):R()}function R(){w=!1,D.textContent="Stopped",D.style.background=z}fetch(document.head.baseURI+"examples/assets/1103/data.json").then((e=>e.json())).then((e=>{e.countries.forEach(((e,t)=>{P.add({x:e.pos[1],y:e.pos[0],value:0,size:0,country:e.name})})),F.addLegendBox().add(P),B(P,e),v.oninput=()=>{R(),B(P,e)},D.onclick=()=>{w?R():(w=!0,D.textContent="Started",D.style.background=M,v.value==v.max&&(v.value=0),B(P,e))}})).catch((e=>{console.log(e)})),f.style.width="100%",f.style.height="100%",f.style.position="absolute",f.style.left="0px",f.style.top="0px",T.engine.layout(),k.style.width="100%",k.style.height="100%",k.style.position="absolute",k.style.left="0px",k.style.top="0px",F.engine.layout(),S.id="block",v.type="range",v.min=0,v.max=Math.ceil((new Date("January 11, 2022")-new Date(2021,0,1))/864e5),v.value=v.min,v.id="slider",D.id="marker",D.textContent="Started";const M="rgb(0, 0, 200, 0.6)",z="rgb(200, 0, 0)";F.engine.container.append(S),function(e){const t=document.createElement("style");t.textContent='\n\n  * {\n    box-sizing: border-box;\n  }\n  \n  #block{\n    width: 50%;\n    height: 60px;\n\t\ttop: 90%;\n    right: 60px;\n    position: absolute;\n    display: flex;\n    justify-content: space-evenly;\n    padding: 30px 10px;\n    z-index: 1;\n    box-sizing: border-box\n  }\n\n  #slider{\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    width: 85%;\n    height: 5px;\n    position: relative;\n    cursor: pointer;\n    border-radius: 10px;\n    border: solid 1px; \n    background: linear-gradient(to right, #fff 0%, white 100%)\n  }\n  \n  #slider::-webkit-slider-thumb{\n    -webkit-appearance: none;\n    height: 20px;\n    width: 20px;\n    padding: 0;\n    background-color: lightgray;\n    cursor: pointer;\n    border-radius: 50%;\n    border: solid 1px gray\n  }\n\n  #marker {\n    background: rgb(0, 0, 200, 0.6);\n    color: white;\n    height: 30px;\n    width: 55px;\n    top: -13px;\n    position: relative;\n    border-radius: 4px;\n    text-align:center; \n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  }\n  #marker::after {\n    content: "";\n    text-align: center;\n    position: absolute;\n    left: 100%;\n    border-bottom: 5px solid transparent;\n    border-top: 5px solid transparent;\n    border-left: 5px solid gray;\n  }\n\n  #marker:active {\n    transform: scale(0.9);\n  }\n\n',document.head.append(t)}()}},e=>{e.O(0,[736],(()=>(138,e(e.s=138)))),e.O()}]);